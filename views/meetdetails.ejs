<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="res/images/icon.ico">
        <link href="/css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <title>NeWind™</title>
    </head>
    <body>
        <div id="userData" data-user="<%= JSON.stringify(user) %>"></div>
        <nav>
            <div class="navbar">
                <div class="logo">
                    <a href="#">NeWind™</a>
                </div>
                <ul class="nav-links">
                    <li>
                        <a href="profile">Profile</a>
                    </li>
                    <li>
                        <a href="discover">Discover</a>
                    </li>
                    <li>
                        <a href="meet">Meet</a>
                    </li>
                    <li>
                        <a href="/">About</a>
                    </li>
                </ul>
                <button class="mobile">
                    <i class="fa fa-bars"></i>
                </button>
                <div class="profile">
                  <% if (isAuthenticated) { %>
                    <!-- Green circle for authenticated -->
                    <div class="circle green"></div>
                  <% } else { %>
                    <!-- Red circle for not authenticated -->
                    <div class="circle red"></div>
                  <% } %>
                    <button class="escape">
                        <i class="fa fa-power-off"></i>
                    </button>
                    <button class="log">
                        <i class="fa fa-key"></i>
                    </button>
                </div>
            </div>
            <div class="deco"></div>
        </nav>
        
        
        <!-- Display flash messages for errors -->
        <% if (messages.error) { %>
            <div class="error-message" style="color: var(--red); text-align:center; margin-top: 40px; margin-bottom: -20px; font-weight: 1000px;">
                <%= messages.error %>
            </div>
        <% } %>
        <form class="form" action="/meetingrequested" method="post">
            <!-- Meet Date -->
            <label for="meetDate">Meet Date</label>
            <input type="date" id="meetDate" name="meetDate" value="" onload="getCurrentDate()">
          
            <!-- Location -->
            <label for="location">Location</label>
            <input type="text" id="location" name="location">
          
            <!-- Submit button -->
            <button type="submit" style="display:block; margin: auto; margin-top: 20px;">Request meeting</button>
          
            <script>
              function getCurrentDate() {
                const currentDate = new Date();
                const year = currentDate.getFullYear();
                let month = currentDate.getMonth() + 1;
                let day = currentDate.getDate();
          
                // Pad single-digit month and day with leading zeros
                month = month < 10 ? `0${month}` : month;
                day = day < 10 ? `0${day}` : day;
          
                const formattedDate = `${year}-${month}-${day}`;
                document.getElementById('meetDate').value = formattedDate;
              }
          
              // Call the function when the document is ready
              document.addEventListener('DOMContentLoaded', getCurrentDate);
            </script>
        </form>
</body>
<script type="text/javascript " src="/js/script.js "></script>
</html>
